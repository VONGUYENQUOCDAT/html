<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let products = [
            { id: 1, name: "m√®n m√©n", price: 20000, quantity: 20, category: "m√≥n ƒÉn d√¢n t·ªôc M√¥ng" },
            { id: 2, name: "m·ª©t", price: 80000, quantity: 21, category: "m√≥n ƒÉn d√¢n t·ªôc Kinh" },
            { id: 3, name: "c∆°m lam", price: 40000, quantity: 15, category: "m√≥n ƒÉn d√¢n t·ªôc M√¥ng" },
            { id: 4, name: "b√°nh ƒë·∫≠u xanh", price: 60000, quantity: 30, category: "m√≥n ƒÉn d√¢n t·ªôc Kinh" }
        ];
        let cart = [];
        function showByCategory() {
            let cat = prompt("Nh·∫≠p t√™n danh m·ª•c (vd: m√≥n ƒÉn d√¢n t·ªôc M√¥ng):").toLowerCase();
            let filtered = products.filter(p => p.category.toLowerCase() === cat);
            if (filtered.length === 0) {
                alert("Kh√¥ng c√≥ s·∫£n ph·∫©m thu·ªôc danh m·ª•c n√†y.");
            } else {
                let text = "üì¶ Danh s√°ch s·∫£n ph·∫©m:\n";
                filtered.forEach(p => {
                    text += `${p.id} - ${p.name} - ${p.price}ƒë - SL: ${p.quantity}\n`;
                });
                alert(text);
            }
        }
        function buyProduct() {
            let id = parseInt(prompt("Nh·∫≠p ID s·∫£n ph·∫©m mu·ªën mua:"));
            let product = products.find(p => p.id === id);
            if (!product) {
                alert("S·∫£n ph·∫©m kh√¥ng t·ªìn t·∫°i trong c·ª≠a h√†ng.");
                return;
            }
            let buyQty = parseInt(prompt(`S·∫£n ph·∫©m "${product.name}" hi·ªán c√≥ ${product.quantity}. Nh·∫≠p s·ªë l∆∞·ª£ng mu·ªën mua:`));
            if (buyQty <= 0 || isNaN(buyQty)) {
                alert("S·ªë l∆∞·ª£ng kh√¥ng h·ª£p l·ªá.");
                return;
            }
            if (buyQty > product.quantity) {
                alert("Kh√¥ng ƒë·ªß h√†ng trong kho.");
                return;
            }
            product.quantity -= buyQty;
            let cartItem = cart.find(p => p.id === product.id);
            if (cartItem) {
                cartItem.quantity += buyQty;
            } else {
                cart.push({ ...product, quantity: buyQty });
            }
            alert("Mua th√†nh c√¥ng!");
        }
        function sortProducts(order = "asc") {
            let sorted = [...products].sort((a, b) =>
                order === "asc" ? a.price - b.price : b.price - a.price
            );

            let result = (order === "asc" ? "TƒÉng d·∫ßn:\n" : "Gi·∫£m d·∫ßn:\n");
            sorted.forEach(p => {
                result += `${p.id} - ${p.name} - ${p.price}ƒë - SL: ${p.quantity}\n`;
            });
            alert(result);
        }
        function calculateCart() {
            let total = 0;
            let result = "Gi·ªè h√†ng:\n";
            cart.forEach(p => {
                result += `${p.name} x${p.quantity} = ${p.quantity * p.price}ƒë\n`;
                total += p.quantity * p.price;
            });
            result += `T·ªïng ti·ªÅn: ${total}ƒë`;
            alert(result);
        }
        function menu() {
            let choice;
            do {
                choice = prompt(
                    `=== ·ª®NG D·ª§NG MUA H√ÄNG ===
1. Hi·ªÉn th·ªã s·∫£n ph·∫©m theo danh m·ª•c
2. Mua s·∫£n ph·∫©m (nh·∫≠p ID)
3. S·∫Øp x·∫øp s·∫£n ph·∫©m theo gi√° tƒÉng d·∫ßn
4. S·∫Øp x·∫øp s·∫£n ph·∫©m theo gi√° gi·∫£m d·∫ßn
5. T√≠nh ti·ªÅn trong gi·ªè h√†ng
6. Tho√°t

Nh·∫≠p l·ª±a ch·ªçn (1-6):`
                );
                switch (choice) {
                    case "1":
                        showByCategory();
                        break;
                    case "2":
                        buyProduct();
                        break;
                    case "3":
                        sortProducts("asc");
                        break;
                    case "4":
                        sortProducts("desc");
                        break;
                    case "5":
                        calculateCart();
                        break;
                    case "6":
                        alert("üëã C·∫£m ∆°n b·∫°n ƒë√£ s·ª≠ d·ª•ng ·ª©ng d·ª•ng!");
                        break;
                    default:
                        alert("Vui l√≤ng ch·ªçn t·ª´ 1 ƒë·∫øn 6.");
                }
            } while (choice !== "6");
        }
        menu();
    </script>
</body>
</html>